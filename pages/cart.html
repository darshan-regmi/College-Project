<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Cart</title>
    <link rel="stylesheet" href="../assets/css/styles.css">
    <style>
        /* Cart Container */
        .cart-container {
            padding: 40px 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .cart-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .cart-header h1 {
            font-size: 2.5rem;
            color: #00838a;
        }

        /* Cart Table */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background-color: #f4f4f4;
        }

        .cart-total {
            text-align: right;
            font-size: 1.5rem;
            margin-top: 20px;
        }

        .checkout-btn {
            display: inline-block;
            text-decoration: none;
            background: linear-gradient(45deg, #00ADB5, #00838a);
            color: #fff;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1.2rem;
            font-weight: bold;
            transition: background 0.3s ease, transform 0.3s ease;
            margin-top: 20px;
        }

        .checkout-btn:hover {
            background: linear-gradient(45deg, #00838a, #036065);
            transform: scale(1.05);
        }

        .remove-btn {
            padding: 8px 12px;
            background: linear-gradient(45deg, #00ADB5, #00838a);
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background 0.3s ease, transform 0.3s ease;
        }

        .remove-btn:hover {
            background: linear-gradient(45deg, #00838a, #036065);
            transform: scale(1.05);
        }

        #cart-empty {
            text-align: center;
            font-size: 1.5rem;
            color: #333;
            margin-top: 50px;
        }

        #cart-empty a {
            display: inline-block;
            text-decoration: none;
            background: linear-gradient(45deg, #00ADB5, #00838a);
            color: #fff;
            padding: 6px 10px;
            border-radius: 8px;
            font-size: 1.2rem;
            font-weight: bold;
            transition: background 0.3s ease, transform 0.3s ease;
            margin-top: 20px;
        }
        
        #cart-empty a:hover {
            background: linear-gradient(45deg, #00ADB5, #00838a);
            transform: scale(1.05);
        }
    
        /* Responsive Styles */

        @media (max-width: 1024px) {

            .cart-container {
                padding: 30px 15px;
            }

            .cart-header h1 {
                font-size: 2rem;
            }

            table {
                font-size: 14px;
            }

            th, td {
                padding: 12px;
            }

            .cart-total {
                font-size: 1.3rem;
            }

            .checkout-btn {
                font-size: 1.1rem;
                padding: 10px 25px;
            }
        }

        @media (max-width: 768px) {

            .cart-container {
                padding: 20px 10px;
            }

            .cart-header h1 {
                font-size: 1.8rem;
            }

            table {
                font-size: 13px;
            }

            th, td {
                padding: 10px;
            }

            .cart-total {
                font-size: 1.2rem;
            }

            .checkout-btn {
                font-size: 1rem;
                padding: 8px 20px;
            }
        }

        @media (max-width: 480px) {

            .cart-container {
                padding: 15px 5px;
            }

            .cart-header h1 {
                font-size: 1.6rem;
            }

            table {
                font-size: 12px;
            }

            th, td {
                padding: 8px;
            }

            .cart-total {
                font-size: 1.1rem;
            }

            .checkout-btn {
                font-size: 0.9rem;
                padding: 8px 18px;
            }
        }
    </style>
</head>

<body onload="loadCart()">
    <header class="header">
        <div class="logo">
            <a href="../index.html"><img src="../assets/img/logo.png" alt="Company Logo"></a>
        </div>
        <nav class="nav-links">
            <a href="../index.html">Home</a>
            <a href="products.html">Products</a>
            <a href="blog.html">Blog</a>
            <a href="research.html">Research</a>
            <a href="about.html">About Us</a>
        </nav>
        <div class="header-tools">
            <div class="search-bar">
                <input type="text" placeholder="Search">
            </div>
            <div class="icons">
                <a href="cart.html">
                    <img src="../assets/img/icons/cart.png" alt="Cart Icon" class="icon">
                </a>
                <a href="profile.html">
                    <img src="../assets/img/icons/user.png" alt="User Icon" class="icon">
                </a>
            </div>
        </div>
    </header>

    <main>
        <div class="cart-container">
            <div class="cart-header">
                <h1>Your Shopping Cart</h1>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>Item</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Total</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Cart items dynamically loaded here -->
                </tbody>
            </table>
            <div class="cart-total">
                <h2>Total: <span id="grand-total">$0.00</span></h2>
            </div>
            <a href="checkout.html" class="checkout-btn">Proceed to Checkout</a>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section about">
                <h1>About Us</h1>
                <p>At WatcHUB, we offer a curated selection of quality timepieces for every occasion. Our goal is to provide exceptional products and service, helping you find the perfect watch for your style.</p>
            </div>
            <div class="footer-section links">
                <h1>Quick Links</h1>
                <ul>
                    <a href="../index.html"><li>Home</li></a>
                    <a href="products.html"><li>Products</li></a>
                    <a href="blog.html"><li>Blog</li></a>
                    <a href="research.html"><li>Research</li></a>
                    <a href="about.html"><li>About Us</li></a>
                </ul>
            </div>
            <div class="footer-section contact">
                <h1>Contact Us</h1>
                <form>
                    <input type="email" name="email" class="text-input contact-input" placeholder="Your email address...">
                    <textarea rows="4" name="message" class="text-input contact-input" placeholder="Your message..."></textarea>
                    <button type="submit" class="btn btn-big contact-btn">Send</button>
                </form>
            </div>
        </div>
        <div class="footer-bottom">
             Copyright  &copy; 2025 Watch Store
        </div>
    </footer>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // Load Cart Items
            function loadCart() {
                let cart = JSON.parse(localStorage.getItem('cart')) || [];
                const cartContainer = document.querySelector('tbody');
                cartContainer.innerHTML = '';
    
                if (cart.length === 0) {
                    document.querySelector('.cart-container').innerHTML = `
                        <p id="cart-empty">Your cart is empty.<br><br><a href="products.html">Continue Shopping</a></p>`;
                    document.getElementById('grand-total').textContent = 'NPR0.00';
                    return;
                }
    
                cart.forEach((product, index) => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${product.name}</td>
                        <td class="price">NPR${product.price.toFixed(2)}</td>
                        <td><input type="number" value="${product.quantity}" min="1" class="quantity" data-index="${index}"></td>
                        <td class="total">NPR${(product.price * product.quantity).toFixed(2)}</td>
                        <td><button class="remove-btn" data-index="${index}">Remove</button></td>
                    `;
                    cartContainer.appendChild(row);
                });
    
                updateEventListeners();
                updateGrandTotal();
            }
    
            // Update Quantities and Remove Buttons
            function updateEventListeners() {
                const quantities = document.querySelectorAll('.quantity');
                const removeButtons = document.querySelectorAll('.remove-btn');
    
                quantities.forEach((input, index) => {
                    input.addEventListener('input', () => {
                        const cart = JSON.parse(localStorage.getItem('cart')) || [];
                        const quantity = parseInt(input.value) || 1;
                        cart[index].quantity = quantity;
                        localStorage.setItem('cart', JSON.stringify(cart));
                        loadCart();
                    });
                });
    
                removeButtons.forEach((button) => {
                    button.addEventListener('click', () => {
                        const cart = JSON.parse(localStorage.getItem('cart')) || [];
                        const index = button.getAttribute('data-index');
                        cart.splice(index, 1);
                        localStorage.setItem('cart', JSON.stringify(cart));
                        loadCart();
                    });
                });
            }
    
            // Update Grand Total
            function updateGrandTotal() {
                const cart = JSON.parse(localStorage.getItem('cart')) || [];
                const grandTotal = cart.reduce((total, item) => total + item.price * item.quantity, 0);
                document.getElementById('grand-total').textContent = `NPR${grandTotal.toFixed(2)}`;
            }
    
            loadCart();
        });

        // Get the form elements
        const form = document.querySelector('form');
        const emailInput = document.querySelector('.contact-input[name="email"]');
        const messageInput = document.querySelector('.contact-input[name="message"]');
        const contactBtn = document.querySelector('.contact-btn');

        // Add event listener to the form
        form.addEventListener('submit', (e) => {
            // Prevent default form submission
            e.preventDefault();

            // Validate email input
            if (!validateEmail(emailInput.value)) {
                alert('Please enter a valid email address');
                return;
            }

            // Validate message input
            if (messageInput.value.trim() === '') {
                alert('Please enter a message');
                return;
            }

            // If validation is successful, submit the form
            form.submit();
        });

        // Function to validate email
        function validateEmail(email) {
            const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            return emailRegex.test(email);
        }
    </script>
</body>
</html>